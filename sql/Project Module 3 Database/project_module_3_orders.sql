-- MySQL dump 10.13  Distrib 8.0.34, for Win64 (x86_64)
--
-- Host: 127.0.0.1    Database: project_module_3
-- ------------------------------------------------------
-- Server version	8.0.34

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `orders`
--

DROP TABLE IF EXISTS `orders`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `orders` (
  `id` int NOT NULL AUTO_INCREMENT,
  `user_id` int NOT NULL,
  `customer_name` varchar(255) NOT NULL,
  `address` varchar(255) NOT NULL,
  `phone` varchar(255) NOT NULL,
  `discount_rate` int DEFAULT NULL,
  `card_number` bigint NOT NULL,
  `cancellation_reason` varchar(255) DEFAULT NULL,
  `order_date` datetime NOT NULL,
  `bill` bigint NOT NULL,
  `discounted` bigint DEFAULT NULL,
  `total_bill` bigint NOT NULL,
  `card_id` int DEFAULT NULL,
  `coupon_id` int DEFAULT NULL,
  `status_id` int DEFAULT NULL,
  `cancel_reason_id` int DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `id` (`id`),
  KEY `user_id` (`user_id`),
  KEY `card_id` (`card_id`),
  KEY `coupon_id` (`coupon_id`),
  KEY `status_id` (`status_id`),
  KEY `cancel_reason_id` (`cancel_reason_id`),
  CONSTRAINT `orders_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `orders_ibfk_2` FOREIGN KEY (`card_id`) REFERENCES `payments` (`id`) ON DELETE SET NULL ON UPDATE CASCADE,
  CONSTRAINT `orders_ibfk_3` FOREIGN KEY (`coupon_id`) REFERENCES `coupons` (`id`) ON DELETE SET NULL ON UPDATE CASCADE,
  CONSTRAINT `orders_ibfk_4` FOREIGN KEY (`status_id`) REFERENCES `order_statuses` (`id`) ON DELETE SET NULL ON UPDATE CASCADE,
  CONSTRAINT `orders_ibfk_5` FOREIGN KEY (`cancel_reason_id`) REFERENCES `cancel_reasons` (`id`) ON DELETE SET NULL ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=31 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `orders`
--

LOCK TABLES `orders` WRITE;
/*!40000 ALTER TABLE `orders` DISABLE KEYS */;
INSERT INTO `orders` VALUES (1,4,'James Mohamed','3119 Woodbridge Lane','11394127799',5,4032030389663551,NULL,'2023-08-10 14:02:54',720,36,684,1,2,4,NULL,'2023-10-10 14:02:54','2023-10-12 16:38:15'),(2,5,'David Helms','2623 Ryder Avenue','12553870741',5,4032030389663551,NULL,'2023-08-11 14:03:02',809,40,769,1,2,1,NULL,'2023-10-10 14:03:02','2023-10-17 15:14:06'),(3,6,'Kevin Lee','1196 Sardis Sta','18220266484',5,4032030389663551,NULL,'2023-08-12 14:03:09',845,42,803,1,2,4,NULL,'2023-10-10 14:03:09','2023-10-13 07:12:30'),(4,7,'Leonardo','1533 Virgil Street','12743249848',5,4032030389663551,NULL,'2023-09-13 14:03:16',507,25,482,1,2,4,NULL,'2023-10-10 14:03:16','2023-10-13 07:09:36'),(6,5,'Lenny','Washington','17421451227',2,4032036377584881,'Ordered the wrong product','2023-09-15 08:53:55',297,6,291,4,1,5,1,'2023-10-11 08:53:55','2023-10-13 07:12:24'),(7,6,'James Mohamed','3119 Woodbridge Lane','11394127799',2,4032030389663551,NULL,'2023-09-11 09:00:07',271,5,266,1,1,4,NULL,'2023-10-11 09:00:07','2023-10-13 07:07:41'),(8,7,'James Mohamed','3119 Woodbridge Lane','11394127799',5,4032030389663551,NULL,'2023-10-13 09:01:01',506,25,481,1,2,4,NULL,'2023-10-11 09:01:01','2023-10-11 09:08:07'),(10,5,'James Mohamed','3119 Woodbridge Lane','11394127799',NULL,4032030389663551,NULL,'2023-10-14 08:45:57',120,0,120,1,NULL,1,NULL,'2023-10-13 08:45:57','2023-10-13 08:45:57'),(11,4,'James Mohamed','3119 Woodbridge Lane','11394127799',2,4032030389663551,NULL,'2023-10-15 08:47:13',210,4,206,1,1,3,NULL,'2023-10-13 08:47:13','2023-10-13 08:47:42'),(12,4,'Lana','New York','12345678909',10,4032030389663551,NULL,'2023-10-14 14:29:24',2286,229,2057,1,3,3,NULL,'2023-10-14 14:29:24','2023-10-14 16:34:27'),(13,4,'Danny','New York','12345678909',NULL,4032030389663551,NULL,'2023-10-14 14:30:42',40,0,40,1,NULL,2,NULL,'2023-10-14 14:30:42','2023-10-14 16:34:30'),(14,4,'Ronaldo','New York','12345678909',5,4032030389663551,NULL,'2023-10-14 14:31:47',1280,64,1216,1,2,2,NULL,'2023-10-14 14:31:47','2023-10-14 16:34:44'),(15,4,'Karim','New York','12345678909',NULL,4032030389663551,NULL,'2023-10-14 14:32:58',40,0,40,1,NULL,4,NULL,'2023-10-14 14:32:58','2023-10-14 16:34:48'),(16,4,'Lionel','New York','12345678909',NULL,4032030389663551,'Ordered the wrong product','2023-10-14 14:33:19',80,0,80,1,NULL,5,1,'2023-10-14 14:33:19','2023-10-17 14:39:54'),(17,4,'Omiti','New York','12345678909',NULL,4032030389663551,'Duplicated order','2023-10-14 14:33:49',40,0,40,1,NULL,5,2,'2023-10-14 14:33:49','2023-10-14 16:44:08'),(18,4,'Tony','Washington','12345657890',NULL,4032035757672365,'I don\'t want to buy anymore','2023-10-14 14:34:58',40,0,40,2,NULL,5,3,'2023-10-14 14:34:58','2023-10-14 16:44:25'),(19,4,'Brahim','Washington','12345657890',NULL,4032035757672365,'Another reason...','2023-10-14 14:36:35',40,0,40,2,NULL,5,4,'2023-10-14 14:36:35','2023-10-14 16:44:37'),(20,4,'Solani','New York','12345678909',NULL,4032030389663551,'','2023-10-14 14:37:55',40,0,40,1,NULL,5,NULL,'2023-10-14 14:37:55','2023-10-17 15:15:55'),(21,4,'Windy','New York','12345678909',5,4032030389663551,'Ordered the wrong product','2023-10-14 14:53:54',570,29,542,1,2,5,1,'2023-10-14 14:53:54','2023-10-17 15:18:00'),(22,4,'Yoan','New York','12345678909',NULL,4032030389663551,'','2023-10-14 14:54:24',30,0,30,1,NULL,1,NULL,'2023-10-14 14:54:24','2023-10-17 14:52:27'),(23,4,'John','New York','12345678909',NULL,4032030389663551,'','2023-10-14 14:56:14',30,0,30,1,NULL,1,NULL,'2023-10-14 14:56:14','2023-10-17 14:56:21'),(24,4,'Michael','New York','12345678909',NULL,4032030389663551,NULL,'2023-10-14 14:57:53',70,0,70,1,NULL,1,NULL,'2023-10-14 14:57:53','2023-10-17 14:57:13'),(25,4,'Long','New York','12345678909',2,4032030389663551,NULL,'2023-10-18 07:21:20',454,9,445,1,1,2,NULL,'2023-10-18 07:21:20','2023-10-18 07:24:49'),(26,27,'Andy Wang','California','12345678909',NULL,4032030389663551,NULL,'2023-10-19 09:28:03',119,0,119,1,NULL,1,NULL,'2023-10-19 09:28:03','2023-10-19 09:28:03'),(27,4,'Anh','Washington','12345678909',NULL,4032030389663551,NULL,'2023-10-20 01:54:28',49,0,49,1,NULL,1,NULL,'2023-10-20 01:54:28','2023-10-20 01:54:28'),(28,4,'Tony','New York','12345678909',NULL,4032030389663551,NULL,'2023-10-20 01:56:12',40,0,40,1,NULL,1,NULL,'2023-10-20 01:56:12','2023-10-20 01:56:12'),(29,29,'Anh Minh','New York','12345678909',2,4032030389663551,'Ordered the wrong product','2023-10-20 03:31:26',445,9,436,1,1,5,1,'2023-10-20 03:31:26','2023-10-20 03:32:24'),(30,29,'Anh Minh','New York','12345678909',5,4032030389663551,NULL,'2023-10-20 03:32:14',700,35,665,1,2,3,NULL,'2023-10-20 03:32:14','2023-10-20 03:38:15');
/*!40000 ALTER TABLE `orders` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2023-10-23 15:27:46
